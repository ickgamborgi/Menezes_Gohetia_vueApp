<!DOCTYPE html>
<html lang="en">
  <!-- Head of the Document -->
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link href="css/grid.css" rel="stylesheet" type="text/css" />
    <!-- Grid Link -->
    <link href="css/main.css" rel="stylesheet" type="text/css" />
    <!-- Main CSS file Link -->

    <!-- Font awesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <script defer src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script type="module" src="js/main.js"></script>
    <!-- JS file Link -->

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="./images/favicon.png" />

    <!-- Document Title -->
    <title>Marvel Movie Index</title>
  </head>

  <!-- Document Body -->
  <body>
    <h1 class="hidden">Marvel Movie Index</h1>

    <!-- Introduction Section -->
    <section class="intro full-width-grid-con">
      <h2 class="hidden">Introduction Section</h2>

      <!-- Header -->
      <header class="header">
        <h3 class="hidden">Header</h3>
        <img src="images/logo.svg" alt="Marvel Logo" class="logo" />
      </header>

      <!-- Video -->
      <video
        class="intro-video"
        autoplay
        muted
        loop
        playsinline
        src="images/intro.mp4"
      >
        <h3 class="hidden">Video Hero</h3>
      </video>

      <div class="cover"></div>

      <!-- Hero Text -->
      <div class="col-span-full hero-text">
        <h3>Marvel Movie Index</h3>
        <p>
          Check out all the trajectory of Marvel's heroes and the MCU in the big
          screen!
        </p>
      </div>
    </section>

    <!-- Movies List Section -->
    <section class="movie-sec grid-con">
      <h2 class="hidden">Movies Section</h2>

      <div class="movie-con col-span-full" id="app">
        <h3 class="hidden">Movies List</h3>

        <!-- Loader -->
        <div v-if="loadingMovies" class="loader col-span-full">
          <h3 class="hidden">Loader</h3>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
            <rect fill="#5A0000" width="100%" height="100%" />
            <circle
              fill="#FFFFFF"
              stroke="#FFFFFF"
              stroke-width="6"
              r="15"
              cx="40"
              cy="65"
            >
              <animate
                attributeName="cy"
                calcMode="spline"
                dur="2"
                values="65;135;65;"
                keySplines=".5 0 .5 1;.5 0 .5 1"
                repeatCount="indefinite"
                begin="-.4"
              ></animate>
            </circle>
            <circle
              fill="#FFFFFF"
              stroke="#FFFFFF"
              stroke-width="6"
              r="15"
              cx="100"
              cy="65"
            >
              <animate
                attributeName="cy"
                calcMode="spline"
                dur="2"
                values="65;135;65;"
                keySplines=".5 0 .5 1;.5 0 .5 1"
                repeatCount="indefinite"
                begin="-.2"
              ></animate>
            </circle>
            <circle
              fill="#FFFFFF"
              stroke="#FFFFFF"
              stroke-width="6"
              r="15"
              cx="160"
              cy="65"
            >
              <animate
                attributeName="cy"
                calcMode="spline"
                dur="2"
                values="65;135;65;"
                keySplines=".5 0 .5 1;.5 0 .5 1"
                repeatCount="indefinite"
                begin="0"
              ></animate>
            </circle>
          </svg>
          <p>Loading Movies...</p>
        </div>

        <!-- Movie 1 -->
        <a
          class="movie-card"
          v-for="movie in moviesData"
          :key="movie.id"
          href="#movie"
        >
          <img
            :src="`images/${movie.movie_image}`"
            :alt="movie.title"
            class="movie-poster"
          />
          <h3 class="movie-title">{{ movie.title }}</h3>
          <div class="movie-info">
            <div class="movie-rating">
              <i class="fas fa-star"></i>
              <p>{{ movie.rating }}</p>
            </div>
            <div class="movie-date">
              <i class="fas fa-calendar-alt"></i>
              <p>{{ movie.release_date }}</p>
            </div>
          </div>
          <h4 class="movie-button" @click.prevent="getMovie(movie.id)">
            View Details
          </h4>
        </a>

        <!-- Details Pop-up -->
        <div
          class="popup-bg"
          :class="{ showPopup: showPopup }"
          @click.self="closePopup"
        >
          <div class="popup" :class="{ showPopup: showPopup }">
            <h3 class="hidden">Movie Pop-up</h3>

            <i class="fas fa-times close-popup" @click="closePopup"></i>
            <!-- Loader -->
            <div v-if="loadingMovies" class="loader col-span-full">
              <h3 class="hidden">Loader</h3>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
                <rect fill="#5A0000" width="100%" height="100%" />
                <circle
                  fill="#FFFFFF"
                  stroke="#FFFFFF"
                  stroke-width="6"
                  r="15"
                  cx="40"
                  cy="65"
                >
                  <animate
                    attributeName="cy"
                    calcMode="spline"
                    dur="2"
                    values="65;135;65;"
                    keySplines=".5 0 .5 1;.5 0 .5 1"
                    repeatCount="indefinite"
                    begin="-.4"
                  ></animate>
                </circle>
                <circle
                  fill="#FFFFFF"
                  stroke="#FFFFFF"
                  stroke-width="6"
                  r="15"
                  cx="100"
                  cy="65"
                >
                  <animate
                    attributeName="cy"
                    calcMode="spline"
                    dur="2"
                    values="65;135;65;"
                    keySplines=".5 0 .5 1;.5 0 .5 1"
                    repeatCount="indefinite"
                    begin="-.2"
                  ></animate>
                </circle>
                <circle
                  fill="#FFFFFF"
                  stroke="#FFFFFF"
                  stroke-width="6"
                  r="15"
                  cx="160"
                  cy="65"
                >
                  <animate
                    attributeName="cy"
                    calcMode="spline"
                    dur="2"
                    values="65;135;65;"
                    keySplines=".5 0 .5 1;.5 0 .5 1"
                    repeatCount="indefinite"
                    begin="0"
                  ></animate>
                </circle>
              </svg>
              <p>Loading Movies...</p>
            </div>
            <img :src="`images/${image}`" :alt="title" class="details-poster" />

            <div class="popup-con">
              <div class="details-title-con">
                <h4 class="details-title">{{ title }}</h4>
                <div class="details-rating">
                  <i class="fas fa-star"></i>
                  <p>{{ rating }}</p>
                </div>
              </div>

              <p>{{ description }}</p>

              <div class="details-sub">
                <h4 class="details-subtitle">Release Date</h4>
                <p>{{ release_date }}</p>
              </div>

              <div class="details-sub" v-if="cast && cast.length">
                <h4 class="details-subtitle">Heroes and Cast</h4>
                <p>{{ cast.join(', ') }}</p>
              </div>

              <div class="details-sub">
                <h4 class="details-subtitle">Directed by</h4>
                <p>{{ director_name }} - {{ bio }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer Section -->
    <footer class="grid-con footer">
      <h2 class="hidden">Footer</h2>

      <div class="footer-text col-span-full">
        <p class="footer-copy">
          Copyright 2025 Â© Sheldon Gohetia &amp; Henrique Gamborgi
        </p>
        <p class="footer-info">
          This project is developed for the Interactive Media Design program,
          Winter 2025, in Fanshawe College, as a fantasy project, and has no
          real relations to Marvel
        </p>
      </div>
    </footer>
  </body>
</html>
